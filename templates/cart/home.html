
{% extends '../base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{%block titleblock%}Basket | Creative Poultry{%endblock%}
{%block bodyblock%}

<div class="container-fluid px-0 mt-2 mx-0 homediv " >
 <div class="container col-lg-9 ">
  <div class="p-4 border">
    <div class="row">
        <div class="col-md-8">
            <h4 class="p-2">Cart Items</h4><hr>
            {%for i in cartitems%}
            <div class="d-flex justify-content-between mb-2">
                <div>
                <img src="{{i.product.image.url}}" height="60" alt="image">

                </div>
                <p>{{i.product.name}}</p>
                <p>quantity: {{i.quantity}}</p>
                <p>total: ${{i.total_price}}</p>

                <div class="btn-group">
                  <form action="{% url 'cart:carthandler'%}" method="get">
                      <input type="text" name="action" value="plus" hidden>
                      <input type="text" name="ciid" value="{{i.id}}" hidden>
                      <button type="submit" class="btn btn-primary btn-sm me-2">+</button>
                  </form>
                  <form action="{% url 'cart:carthandler'%}" method="get">
                      <input type="text" name="action" value="minus" hidden>
                      <input type="text" name="ciid" value="{{i.id}}" hidden>
                      <button type="submit" class="btn btn-primary btn-sm me-2">-</button>
                  </form>
                  <form action="{% url 'cart:carthandler'%}" method="get">
                      <input type="text" name="action" value="remove" hidden>
                      <input type="text" name="ciid" value="{{i.id}}" hidden>
                      <button type="submit" class="btn btn-danger btn-sm me-2">Remove</button>
                  </form>
              </div>

            </div>
            {%empty%}
            <p class="p-5 m-5 text-center">No Items in the Cart</p>
            {%endfor%}
        </div>
        <div class="col-md-4">
            <div class="border p-3">
                <h4 class="text-center ">Cart Summary</h4><hr>
                <p class="text-center">Total Items : {{cartitems|length}}</p>
                <p class="text-center">Total Quantity : {{cart.get_total_quantity}}</p>
                <hr>
                <p class="fw-bold text-center">Total Price: ${{cart.get_total}}</p>
            <hr>

           <div class="d-flex justify-content-end">
            <a href="{% url 'order:checkout' %}" class="btn btn-sm btn-info me-2">Checkout</a>
           </div>

            </div>
        </div>
    </div>
 

  </div>
 </div>
</div> 
{%endblock%}